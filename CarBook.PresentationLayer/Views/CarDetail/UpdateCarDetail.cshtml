@model CarDetail
@{
    ViewData["Title"] = "UpdateCarDetail";
    Layout = "~/Views/Layout/Index.cshtml";
}

<h1>Fahrzeugdetails ändern</h1>

<form method="post" asp-action="UpdateCarDetail" asp-controller="CarDetail">
    <div class="card-body">
        <div class="row">
            <div class="col-lg-12">
                <input  type="hidden" asp-for="CarDetailID"/>
                <div class="form-floating">
                    <select class="form-select" id="floatingSelect" asp-for="CarID" asp-items="@ViewBag.CarList"
                            aria-label="Floating label select example">
                    </select>
                    <label for="floatingSelect">Fahrzeug</label>
                </div>
                <br />
                <div class="form-floating">
                    <select class="form-select" id="floatingSelect" asp-for="AppUserID" asp-items="@ViewBag.UserList"
                            aria-label="Floating label select example">
                    </select>
                    <label for="floatingSelect">Autor</label>
                </div>
                <br />
                <div class="form-floating mb-3">
                    <textarea class="form-control" id="floatingInput" asp-for="Description" style="height:200px"></textarea>
                    <label for="floatingInput">Beschreibung</label>
                </div>
            </div>
        </div>
    </div>
    <button id="btnUpdateCarDetails" class="btn btn-outline-primary">Ändern <i class="ri-edit-line"></i></button>
</form>

<script>
    const updateCarDetailsButton = document.querySelector('#btnUpdateCarDetails');
    const form = updateCarDetailsButton.closest('form');

    updateCarDetailsButton.addEventListener('click', function (e) {
        e.preventDefault();
        Swal.fire({
            title: "Update",
            text: "Fahrzeugdetails wurden erfolgreich geändert",
            imageUrl: "https://res.cloudinary.com/djlqp41lf/image/upload/v1700939008/Rental_Logo_gg454l.png",
            imageWidth: 300,
            imageHeight: 200,
            imageAlt: "Firmen Logo"
        }).then(function () {
            form.submit();
        });
    });
</script>